{"ast":null,"code":"var _jsxFileName = \"/Users/ovidiufritsch/code/tennis/atp/src/components/AgeComparison/PlayerSelector.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Dropdown } from 'semantic-ui-react';\nimport faker from 'faker';\nimport './styles/PlayerSelector.css';\n\nclass PlayerSelector extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      players: []\n    };\n  }\n\n  convert_data(data) {\n    const arr = [];\n\n    for (var i = 0; i < data.length; i++) {\n      let d = data[i];\n      arr.push({\n        text: d['last_name'].concat(\", \", d['first_name']),\n        value: d['id'],\n        key: d['id']\n      });\n    }\n\n    return arr;\n  }\n\n  componentDidMount() {\n    fetch(\"/topTenPlayers\").then(response => response.json().then(data => {\n      this.setState({\n        players: this.convert_data(data['data'])\n      });\n    }));\n  }\n\n  search_change(data) {\n    const filter = data['searchQuery'];\n\n    if (filter.length == 0) {\n      fetch(\"/topTenPlayers\").then(response => response.json().then(data => {\n        console.log(data);\n        this.setState({\n          players: this.convert_data(data['data'])\n        });\n      }));\n    } else {\n      fetch(\"/topTenFiltered?prefix=\".concat(filter)).then(response => response.json().then(data => {\n        console.log(data);\n        this.setState({\n          players: this.convert_data(data['data'])\n        });\n      }));\n    }\n  }\n\n  label_click(data) {\n    var player_name = null;\n    var player_id = data['value'];\n\n    for (var i = 0; i < data['options'].length; i++) {\n      if (data['options'][i]['value'] == player_id) {\n        player_name = data['options'][i]['text'];\n      }\n    }\n\n    this.props.added_player_handler(player_id, player_name);\n  }\n\n  render() {\n    const friendOptions = [{\n      key: 'Jenny Hess',\n      text: 'Jenny Hess',\n      value: 'Jenny Hess'\n    }, {\n      key: 'Elliot Fu',\n      text: 'Elliot Fu',\n      value: 'Elliot Fu'\n    }];\n    return React.createElement(\"div\", {\n      id: \"the_player_selector\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Dropdown, {\n      placeholder: \"Select a Player\",\n      search: true,\n      selection: true,\n      onChange: (_, data) => this.label_click(data),\n      onSearchChange: (_, data) => this.search_change(data),\n      options: this.state.players,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default PlayerSelector;","map":{"version":3,"sources":["/Users/ovidiufritsch/code/tennis/atp/src/components/AgeComparison/PlayerSelector.js"],"names":["React","useEffect","useState","Dropdown","faker","PlayerSelector","Component","constructor","props","state","players","convert_data","data","arr","i","length","d","push","text","concat","value","key","componentDidMount","fetch","then","response","json","setState","search_change","filter","console","log","label_click","player_name","player_id","added_player_handler","render","friendOptions","_"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { Dropdown } from 'semantic-ui-react'\nimport faker from 'faker'\nimport './styles/PlayerSelector.css'\n\nclass PlayerSelector extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tplayers: []\n\t\t}\n\t}\n\n\tconvert_data(data) {\n\t\tconst arr = []\n\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\tlet d = data[i]\n\t\t\tarr.push({text: d['last_name'].concat(\", \", d['first_name']), value: d['id'], key: d['id']})\n\t\t}\n\t\treturn arr\n\t}\n\n\tcomponentDidMount() {\n\t\tfetch(\"/topTenPlayers\").then(response => \n\t\t\tresponse.json().then(data => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tplayers: this.convert_data(data['data'])\n\t\t\t\t})\n\t\t}))\n\t}\n\n\n\n\tsearch_change(data) {\n\t\tconst filter = data['searchQuery']\n\t\tif (filter.length == 0) {\n\t\t\tfetch(\"/topTenPlayers\").then(response => \n\t\t\tresponse.json().then(data => {\n\t\t\t\tconsole.log(data)\n\t\t\t\tthis.setState({\n\t\t\t\t\tplayers: this.convert_data(data['data'])\n\t\t\t\t})\n\t\t\t}))\n\t\t}\n\t\telse {\n\t\t\tfetch(`/topTenFiltered?prefix=${filter}`).then(response =>\n\t\t\tresponse.json().then(data => {\n\t\t\t\tconsole.log(data)\n\t\t\t\tthis.setState({\n\t\t\t\t\tplayers: this.convert_data(data['data'])\n\t\t\t\t})\n\t\t\t}))\n\t\t}\n\t}\n\n\tlabel_click(data) {\n\t\tvar player_name = null;\n\t\tvar player_id = data['value']\n\t\tfor (var i = 0; i < data['options'].length; i++) {\n\t\t\tif (data['options'][i]['value'] == player_id) {\n\t\t\t\tplayer_name = data['options'][i]['text']\n\t\t\t}\n\t\t}\n\t\tthis.props.added_player_handler(player_id, player_name)\n\t}\n\n\trender() {\n\t\tconst friendOptions = [\n\t\t  {\n\t\t    key: 'Jenny Hess',\n\t\t    text: 'Jenny Hess',\n\t\t    value: 'Jenny Hess',\n\t\t  },\n\t\t  {\n\t\t    key: 'Elliot Fu',\n\t\t    text: 'Elliot Fu',\n\t\t    value: 'Elliot Fu',\n\t\t  }\n\t\t]\n\t\treturn (\n\t\t\t<div id=\"the_player_selector\">\n\t\t\t\t<Dropdown\n\t\t\t\t\tplaceholder='Select a Player'\n\t\t\t\t\tsearch\n\t\t\t\t\tselection\n\t\t\t\t\tonChange={(_, data) => this.label_click(data)}\n\t\t\t\t\tonSearchChange={(_, data) => this.search_change(data)}\n\t\t\t\t\toptions={this.state.players}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default PlayerSelector;"]},"metadata":{},"sourceType":"module"}