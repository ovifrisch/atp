{"ast":null,"code":"var _jsxFileName = \"/Users/ovidiufritsch/code/tennis_atp/atp_frontend/src/components/AgeComparison/Graph.js\";\nimport React from 'react';\nimport { Line } from 'react-chartjs-2';\n\nclass Graph extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      datasets: [],\n      labels: []\n    };\n  }\n\n  generate_color(id) {\n    var o = Math.round,\n        r = id,\n        s = 255;\n    return 'rgba(' + o(r() * s) + ',' + o(r() * s) + ',' + o(r() * s) + ',' + r().toFixed(1) + ')';\n  }\n\n  create_dataset(ranks, player_name, player_id) {\n    return {\n      label: player_name,\n      fill: false,\n      lineTension: 0.1,\n      backgroundColor: 'rgba(75,192,192,0.4)',\n      borderColor: this.generate_color(),\n      borderCapStyle: 'butt',\n      borderDash: [],\n      borderDashOffset: 0.0,\n      borderJoinStyle: 'miter',\n      pointBorderColor: 'rgba(75,192,192,1)',\n      pointBackgroundColor: '#fff',\n      pointBorderWidth: 1,\n      pointHoverRadius: 5,\n      pointHoverBackgroundColor: 'rgba(75,192,192,1)',\n      pointHoverBorderColor: 'rgba(220,220,220,1)',\n      pointHoverBorderWidth: 2,\n      pointRadius: 1,\n      pointHitRadius: 10,\n      data: ranks\n    };\n  }\n\n  addPlayer(player_id, player_name) {\n    fetch(\"/get_ranking_history?player_id=\".concat(player_id, \"&starting_age=25&ending_age=26\")).then(response => response.json().then(data => {\n      var ranks = data['data'].map(x => x['rank']);\n      this.setState({\n        labels: data['data'].map(x => x['age']),\n        datasets: [...this.state.datasets, this.create_dataset(ranks, player_name, player_id)]\n      });\n    }));\n  }\n\n  render() {\n    const data = {\n      labels: this.state.labels,\n      datasets: this.state.datasets\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(Line, {\n      data: data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Graph;","map":{"version":3,"sources":["/Users/ovidiufritsch/code/tennis_atp/atp_frontend/src/components/AgeComparison/Graph.js"],"names":["React","Line","Graph","Component","constructor","props","state","datasets","labels","generate_color","id","o","Math","round","r","s","toFixed","create_dataset","ranks","player_name","player_id","label","fill","lineTension","backgroundColor","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","data","addPlayer","fetch","then","response","json","map","x","setState","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Line} from 'react-chartjs-2';\n\nclass Graph extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tdatasets: [],\n\t\t\tlabels: []\n\t\t}\n\t}\n\n\tgenerate_color(id) {\n\t\tvar o = Math.round, r = id, s = 255;\n\t\treturn 'rgba(' + o(r()*s) + ',' + o(r()*s) + ',' + o(r()*s) + ',' + r().toFixed(1) + ')';\n\t}\n\n\tcreate_dataset(ranks, player_name, player_id) {\n\t\treturn {\n\t\t\tlabel: player_name,\n\t\t\tfill: false,\n\t\t\tlineTension: 0.1,\n\t\t\tbackgroundColor: 'rgba(75,192,192,0.4)',\n\t\t\tborderColor: this.generate_color(),\n\t\t\tborderCapStyle: 'butt',\n\t\t\tborderDash: [],\n\t\t\tborderDashOffset: 0.0,\n\t\t\tborderJoinStyle: 'miter',\n\t\t\tpointBorderColor: 'rgba(75,192,192,1)',\n\t\t\tpointBackgroundColor: '#fff',\n\t\t\tpointBorderWidth: 1,\n\t\t\tpointHoverRadius: 5,\n\t\t\tpointHoverBackgroundColor: 'rgba(75,192,192,1)',\n\t\t\tpointHoverBorderColor: 'rgba(220,220,220,1)',\n\t\t\tpointHoverBorderWidth: 2,\n\t\t\tpointRadius: 1,\n\t\t\tpointHitRadius: 10,\n\t\t\tdata: ranks\n\t\t}\n\t}\n\n\taddPlayer(player_id, player_name) {\n\n\t\tfetch(`/get_ranking_history?player_id=${player_id}&starting_age=25&ending_age=26`).then(response =>\n\t\t\tresponse.json().then(data => {\n\t\t\t\tvar ranks = data['data'].map(x => x['rank'])\n\t\t\t\tthis.setState({\n\t\t\t\t\tlabels: data['data'].map(x => x['age']),\n\t\t\t\t\tdatasets: [...this.state.datasets, this.create_dataset(ranks, player_name, player_id)]\n\t\t\t\t})\n\t\t\t}))\n\t}\n\n\trender() {\n\n\t\tconst data = {\n\t\t\tlabels: this.state.labels,\n\t\t\tdatasets: this.state.datasets\n\t\t};\n\n\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Line data={data} />\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Graph;"]},"metadata":{},"sourceType":"module"}